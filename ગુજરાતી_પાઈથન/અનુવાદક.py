"""
અનુવાદક મોડ્યુલ - પાઈથન કીવર્ડ્સને ગુજરાતીમાં અનુવાદ કરવા માટે

આ મોડ્યુલ ગુજરાતી કીવર્ડ્સને અંગ્રેજી કીવર્ડ્સમાં કન્વર્ટ કરે છે
જેથી સ્ટાન્ડર્ડ પાઈથન ઇન્ટરપ્રિટર ચલાવી શકાય.
"""

import re
import keyword
from typing import Dict, List, Tuple


class કીવર્ડ_અનુવાદક:
    """
    ગુજરાતી કીવર્ડ્સને અંગ્રેજીમાં અનુવાદ કરવા માટેનો ક્લાસ
    """
    
    def __init__(self):
        # ગુજરાતી કીવર્ડ્સથી અંગ્રેજી કીવર્ડ્સનું મેપિંગ
        self.કીવર્ડ_મેપ = {
            # મૂળભૂત કીવર્ડ્સ
            'ઈમ્પોર્ટ': 'import',
            'ડેફ': 'def',
            'ક્લાસ': 'class',
            'ફોર': 'for',
            'વ્હાઈલ': 'while',
            'જો': 'if',
            'નહીં તો': 'else',
            'અથવા જો': 'elif',
            'પરત આપો': 'return',
            'છાપો': 'print',
            'સાચું': 'True',
            'ખોટું': 'False',
            'કંઈ નહીં': 'None',
            'અને': 'and',
            'અથવા': 'or',
            'નહીં': 'not',
            'ઇન': 'in',
            'છે': 'is',
            'સાથે': 'with',
            'આસ': 'as',
            'માંથી': 'from',
            'પ્રયત્ન કરો': 'try',
            'સિવાય': 'except',
            'અંતે': 'finally',
            'ઊઠાવો': 'raise',
            'લેમ્બડા': 'lambda',
            'વૈશ્વિક': 'global',
            'બિન સ્થાનિક': 'nonlocal',
            'ખાતરી કરો': 'assert',
            'બ્રેક': 'break',
            'ચાલુ રાખો': 'continue',
            'પાસ': 'pass',
            'ડિલીટ કરો': 'del',
            'પ્રદાન કરો': 'yield',
            'અસિન્ક': 'async',
            'રાહ જુઓ': 'await',
            
            # બિલ્ટ-ઇન ફંક્શન્સ
            'લેન': 'len',
            'રેંજ': 'range',
            'ટાઇપ': 'type',
            'સ્ટ્ર': 'str',
            'ઇન્ટ': 'int',
            'ફ્લોટ': 'float',
            'લિસ્ટ': 'list',
            'ડિક્ટ': 'dict',
            'સેટ': 'set',
            'ટ્યુપલ': 'tuple',
            'ઓપન': 'open',
            'મિન': 'min',
            'મેક્સ': 'max',
            'સમ': 'sum',
            'સોર્ટેડ': 'sorted',
            'રેવર્સેડ': 'reversed',
            'એની': 'any',
            'ઓલ': 'all',
            'મેપ': 'map',
            'ફિલ્ટર': 'filter',
            'ઝીપ': 'zip',
            'એન્યુમરેટ': 'enumerate',
            
            # સામાન્ય મોડ્યુલ નામો
            'ગણિત': 'math',
            'રેન્ડમ': 'random',
            'અવિકલ': 'time',
            'datetime': 'datetime',
            'json': 'json',
            'os': 'os',
            'sys': 'sys',
        }
        
        # રિવર્સ મેપિંગ (અંગ્રેજીથી ગુજરાતી)
        self.રિવર્સ_મેપ = {v: k for k, v in self.કીવર્ડ_મેપ.items()}
        
        # ઓપરેટર્સનું મેપિંગ
        self.ઓપરેટર_મેપ = {
            '==': '==',
            '!=': '!=',
            '<=': '<=',
            '>=': '>=',
            '<': '<',
            '>': '>',
            '+': '+',
            '-': '-',
            '*': '*',
            '/': '/',
            '//': '//',
            '%': '%',
            '**': '**',
        }
    
    def ગુજરાતીથી_અંગ્રેજી(self, કોડ: str) -> str:
        """
        ગુજરાતી કોડને અંગ્રેજી પાઈથન કોડમાં કન્વર્ટ કરે છે
        
        પેરામીટર:
            કોડ (str): ગુજરાતી પાઈથન કોડ
            
        પરત આપે:
            str: અંગ્રેજી પાઈથન કોડ
        """
        અનુવાદિત_કોડ = કોડ
        
        # કીવર્ડ્સનો અનુવાદ કરો (લાંબાથી નાના ક્રમમાં)
        કીવર્ડ_લિસ્ટ = sorted(self.કીવર્ડ_મેપ.keys(), key=len, reverse=True)
        
        for ગુજરાતી_કીવર્ડ in કીવર્ડ_લિસ્ટ:
            અંગ્રેજી_કીવર્ડ = self.કીવર્ડ_મેપ[ગુજરાતી_કીવર્ડ]
            
            # સિંપલ સ્ટ્રિંગ રિપ્લેસમેન્ટ - વધુ રિલાયેબલ
            અનુવાદિત_કોડ = અનુવાદિત_કોડ.replace(ગુજરાતી_કીવર્ડ, અંગ્રેજી_કીવર્ડ)
        
        return અનુવાદિત_કોડ
    
    def અંગ્રેજીથી_ગુજરાતી(self, કોડ: str) -> str:
        """
        અંગ્રેજી પાઈથન કોડને ગુજરાતી કોડમાં કન્વર્ટ કરે છે
        
        પેરામીટર:
            કોડ (str): અંગ્રેજી પાઈથન કોડ
            
        પરત આપે:
            str: ગુજરાતી પાઈથન કોડ
        """
        અનુવાદિત_કોડ = કોડ
        
        # અંગ્રેજી કીવર્ડ્સનો અનુવાદ કરો
        for અંગ્રેજી_કીવર્ડ, ગુજરાતી_કીવર્ડ in self.રિવર્સ_મેપ.items():
            પેટર્ન = r'\b' + re.escape(અંગ્રેજી_કીવર્ડ) + r'\b'
            અનુવાદિત_કોડ = re.sub(પેટર્ન, ગુજરાતી_કીવર્ડ, અનુવાદિત_કોડ)
        
        return અનુવાદિત_કોડ
    
    def કીવર્ડ_વેલિડેશન(self, કોડ: str) -> List[str]:
        """
        ગુજરાતી કોડમાં અજાણ્યા કીવર્ડ્સ શોધે છે
        
        પેરામીટર:
            કોડ (str): ગુજરાતી કોડ
            
        પરત આપે:
            List[str]: અજાણ્યા કીવર્ડ્સની યાદી
        """
        # વેલિડેશન બંધ કરો - વેરિએબલ નામો અને કમેન્ટ્સની સાથે બહુ મુશ્કેલી આવે છે
        # ફક્ત syntax errors માટે Python નો પોતાનો પેર્સર વાપરીશું
        return []


# ગ્લોબલ અનુવાદક ઇન્સ્ટન્સ
_અનુવાદક = કીવર્ડ_અનુવાદક()


def કોડ_અનુવાદ_કરો(ગુજરાતી_કોડ: str) -> str:
    """
    ગુજરાતી કોડને અંગ્રેજી પાઈથન કોડમાં અનુવાદ કરે છે
    
    પેરામીટર:
        ગુજરાતી_કોડ (str): ગુજરાતી પાઈથન કોડ
        
    પરત આપે:
        str: અંગ્રેજી પાઈથન કોડ
    """
    return _અનુવાદક.ગુજરાતીથી_અંગ્રેજી(ગુજરાતી_કોડ)


def વેલિડેશન_કરો(ગુજરાતી_કોડ: str) -> List[str]:
    """
    ગુજરાતી કોડમાં એરર્સ શોધે છે
    
    પેરામીટર:
        ગુજરાતી_કોડ (str): ગુજરાતી પાઈથન કોડ
        
    પરત આપે:
        List[str]: એરર મેસેજોની યાદી
    """
    return _અનુવાદક.કીવર્ડ_વેલિડેશન(ગુજરાતી_કોડ)